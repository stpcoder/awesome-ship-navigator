PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE ship_routes (
	id INTEGER NOT NULL, 
	ship_id VARCHAR, 
	ship_name VARCHAR, 
	start_x FLOAT, 
	start_y FLOAT, 
	goal_x FLOAT, 
	goal_y FLOAT, 
	requested_departure FLOAT, 
	actual_departure FLOAT, 
	arrival_time FLOAT, 
	speed_knots FLOAT, 
	path_points TEXT, 
	path_speeds TEXT, 
	path_length_nm FLOAT, 
	status VARCHAR, 
	optimization_mode VARCHAR, 
	created_at DATETIME, 
	updated_at DATETIME, 
	PRIMARY KEY (id)
);
CREATE TABLE ships (
	id INTEGER NOT NULL, 
	ship_id VARCHAR, 
	name VARCHAR, 
	type VARCHAR, 
	pol VARCHAR, 
	pol_addr VARCHAR, 
	length FLOAT, 
	breath FLOAT, 
	depth FLOAT, 
	gt FLOAT, 
	latitude FLOAT, 
	longitude FLOAT, 
	speed FLOAT, 
	course FLOAT, 
	fishing_area_lat FLOAT, 
	fishing_area_lng FLOAT, 
	docking_lat FLOAT, 
	docking_lng FLOAT, 
	created_at DATETIME, 
	updated_at DATETIME, 
	PRIMARY KEY (id)
);
INSERT INTO ships VALUES(1,'EUM001','해성호','어선','포항','경북 포항시 북구 항구동',23.15192978700451931,5.56972858475380228,2.151776840152577641,64.99934545499297656,35.98581000000000074,129.5532589999999971,0.0,0.0,35.98261000000000109,129.5706590000000062,35.98581000000000074,129.5532589999999971,'2025-09-28 02:47:06.464895','2025-09-28 02:47:06.464901');
INSERT INTO ships VALUES(2,'EUM002','동양호','예인선','포항','경북 포항시 남구 구룡포읍',70.48741552025229851,8.793470383151095859,4.042310463015683197,581.3849127713043571,35.98705400000000054,129.5539139999999919,0.0,0.0,35.98585400000000334,129.56711400000043,35.98705400000000054,129.5539139999999919,'2025-09-28 02:47:06.464902','2025-09-28 02:47:06.464903');
INSERT INTO ships VALUES(3,'EUM003','태평호','여객선','포항','경북 포항시 북구 항구동',76.74471776077501772,9.86177055986478024,2.936468684972510345,2256.549467467154499,35.98794500000000341,129.5549660000000073,0.0,0.0,35.98034500000002111,129.5765660000007244,35.98794500000000341,129.5549660000000073,'2025-09-28 02:47:06.464904','2025-09-28 02:47:06.464905');
INSERT INTO ships VALUES(4,'EUM004','대한호','어선','포항','경북 포항시 남구 구룡포읍',29.27473925293998746,5.680940837856449654,1.806918077503649523,74.61007301874961683,35.98890600000000006,129.5565939999999899,0.0,0.0,35.98630600000000612,129.5723940000005143,35.98890600000000006,129.5565939999999899,'2025-09-28 02:47:06.464906','2025-09-28 02:47:06.464906');
INSERT INTO ships VALUES(5,'EUM005','금성호','예인선','포항','경북 포항시 북구 항구동',65.66891713351250815,10.44452744410785172,3.568585068005576843,578.5818273004632602,35.99011399999999839,129.5573159999999859,0.0,0.0,35.98031400000002122,129.5673160000003178,35.99011399999999839,129.5573159999999859,'2025-09-28 02:47:06.464907','2025-09-28 02:47:06.464908');
INSERT INTO ships VALUES(6,'EUM006','바다호','어선','포항','경북 포항시 남구 구룡포읍',22.37994702600833818,6.673237996484200352,2.773902969228688064,95.2502664065044797,35.98019000000000033,129.5675410000000056,0.0,0.0,35.98019000000000033,129.5675410000000056,35.98978999999997797,129.5571409999996604,'2025-09-28 02:47:06.464909','2025-09-28 02:47:06.464909');
INSERT INTO ships VALUES(7,'EUM007','해운호','어선','포항','경북 포항시 북구 항구동',26.99351891969888584,5.741347847829539219,3.404273149553718625,60.01225511301155536,35.98616299999999769,129.5727589999999907,0.0,0.0,35.98616299999999769,129.5727589999999907,35.98856299999999208,129.5567589999994596,'2025-09-28 02:47:06.464910','2025-09-28 02:47:06.464911');
INSERT INTO ships VALUES(8,'EUM008','포항호','예인선','포항','경북 포항시 남구 구룡포읍',61.33204727406698708,8.125820173447618089,6.445380791981510704,1776.395998675216106,35.98034400000000232,129.576767999999987,0.0,0.0,35.98034400000000232,129.576767999999987,35.98774399999998507,129.5549679999992633,'2025-09-28 02:47:06.464912','2025-09-28 02:47:06.464912');
INSERT INTO ships VALUES(9,'EUM009','영일호','화물선','포항','경북 포항시 북구 항구동',47.80528545834278731,5.174874181284292441,6.986507947424644982,2012.290153672654242,35.98564799999999764,129.5674129999999878,0.0,0.0,35.98564799999999764,129.5674129999999878,35.98684799999999485,129.5542129999995495,'2025-09-28 02:47:06.464913','2025-09-28 02:47:06.464914');
INSERT INTO ships VALUES(10,'EUM010','구룡호','어선','포항','경북 포항시 남구 구룡포읍',27.54543247233266711,5.736463187365298922,1.978640071178718874,46.8650947589508391,35.98261000000000109,129.5706590000000062,0.0,0.0,35.98261000000000109,129.5706590000000062,35.98580999999999364,129.5532589999994287,'2025-09-28 02:47:06.464915','2025-09-28 02:47:06.464915');
CREATE TABLE cctv_devices (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	latitude VARCHAR, 
	longitude VARCHAR, 
	address VARCHAR, 
	created_at DATETIME, 
	PRIMARY KEY (id)
);
INSERT INTO cctv_devices VALUES(1,'포항 구룡포항 입구 CCTV','36.0012','129.5575','경북 포항시 남구 구룡포읍 구룡포리','2025-09-28 02:47:06.466248');
INSERT INTO cctv_devices VALUES(2,'포항 신항 제1부두 CCTV','36.0145','129.5615','경북 포항시 북구 흥해읍','2025-09-28 02:47:06.466250');
INSERT INTO cctv_devices VALUES(3,'포항 영일만항 CCTV','36.0089','129.5548','경북 포항시 북구 환여동','2025-09-28 02:47:06.466251');
INSERT INTO cctv_devices VALUES(4,'포항 구항 CCTV','36.0356','129.3655','경북 포항시 북구 중앙동','2025-09-28 02:47:06.466252');
INSERT INTO cctv_devices VALUES(5,'구룡포 어시장 CCTV','36.0018','129.5585','경북 포항시 남구 구룡포읍 구룡포리','2025-09-28 02:47:06.466252');
INSERT INTO cctv_devices VALUES(6,'포항 해경 전용부두 CCTV','36.0125','129.5595','경북 포항시 북구 항구동','2025-09-28 02:47:06.466253');
INSERT INTO cctv_devices VALUES(7,'영일대 해수욕장 CCTV','36.0612','129.3825','경북 포항시 북구 두호동','2025-09-28 02:47:06.466254');
INSERT INTO cctv_devices VALUES(8,'호미곶 전망대 CCTV','36.0765','129.5668','경북 포항시 남구 호미곶면','2025-09-28 02:47:06.466254');
CREATE TABLE lidar_devices (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	latitude VARCHAR, 
	longitude VARCHAR, 
	address VARCHAR, 
	created_at DATETIME, 
	PRIMARY KEY (id)
);
INSERT INTO lidar_devices VALUES(1,'포항 신항 LiDAR','36.0142','129.5608','경북 포항시 북구 흥해읍 영일만항로','2025-09-28 02:47:06.467180');
INSERT INTO lidar_devices VALUES(2,'구룡포항 LiDAR','36.0015','129.5578','경북 포항시 남구 구룡포읍','2025-09-28 02:47:06.467182');
INSERT INTO lidar_devices VALUES(3,'영일만 북방파제 LiDAR','36.0198','129.5682','경북 포항시 북구 영일만항','2025-09-28 02:47:06.467183');
INSERT INTO lidar_devices VALUES(4,'포항 구항 LiDAR','36.0358','129.3658','경북 포항시 북구 중앙동','2025-09-28 02:47:06.467183');
INSERT INTO lidar_devices VALUES(5,'호미곶 LiDAR','36.0768','129.5672','경북 포항시 남구 호미곶면 대보리','2025-09-28 02:47:06.467184');
CREATE TABLE weather_data (
	id INTEGER NOT NULL, 
	date VARCHAR, 
	temperature FLOAT, 
	wind_speed FLOAT, 
	wind_direction FLOAT, 
	humidity FLOAT, 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (date)
);
INSERT INTO weather_data VALUES(1,'2025-09-28',18.5,3.200000000000000177,45.0,65.0,'2025-09-28 02:47:06.468154');
CREATE TABLE messages (
	id INTEGER NOT NULL, 
	sender_id VARCHAR, 
	sender_name VARCHAR, 
	recipient_id VARCHAR, 
	recipient_name VARCHAR, 
	message TEXT, 
	message_type VARCHAR, 
	is_read BOOLEAN, 
	created_at DATETIME, 
	read_at DATETIME, 
	PRIMARY KEY (id)
);
INSERT INTO messages VALUES(1,'control_center','관제센터','all','전체','메세지 전송','broadcast',0,'2025-09-28 02:34:06.225957',NULL);
INSERT INTO messages VALUES(2,'control_center','관제센터','all','전체','안녕하세요','broadcast',0,'2025-09-28 02:41:47.937056',NULL);
CREATE TABLE ship_realtime_locations (
	id INTEGER NOT NULL, 
	dev_id INTEGER, 
	ship_id VARCHAR, 
	log_datetime VARCHAR, 
	latitude FLOAT, 
	longitude FLOAT, 
	azimuth FLOAT, 
	course FLOAT, 
	speed FLOAT, 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(ship_id) REFERENCES ships (ship_id)
);
INSERT INTO ship_realtime_locations VALUES(1,100,'EUM001','2025-09-28 11:47:06',35.9884660000000025,129.5537809999999865,130.240362829990005,246.8395636753733128,0.0,'2025-09-28 02:47:06.469701');
INSERT INTO ship_realtime_locations VALUES(2,101,'EUM002','2025-09-28 11:47:06',35.98901675000000467,129.5543772499999875,7.103512303984045317,357.5600898527446816,0.0,'2025-09-28 02:47:06.469704');
INSERT INTO ship_realtime_locations VALUES(3,102,'EUM003','2025-09-28 11:47:06',35.98956749999999972,129.5549734999999885,169.0979823248029846,305.6889800925315513,0.0,'2025-09-28 02:47:06.469705');
INSERT INTO ship_realtime_locations VALUES(4,103,'EUM004','2025-09-28 11:47:06',35.99011824999999476,129.5555697499999895,293.4863653794110974,47.54561609390813715,0.0,'2025-09-28 02:47:06.469705');
INSERT INTO ship_realtime_locations VALUES(5,104,'EUM005','2025-09-28 11:47:06',35.99066899999999691,129.5561659999999904,92.8075514016747575,246.4744259351256517,0.0,'2025-09-28 02:47:06.469706');
INSERT INTO ship_realtime_locations VALUES(6,105,'EUM006','2025-09-28 11:47:06',35.98314498758920621,129.5718270752865635,62.99547589239739409,267.5945386624372304,1.494047490367703457,'2025-09-28 02:47:06.469707');
INSERT INTO ship_realtime_locations VALUES(7,106,'EUM007','2025-09-28 11:47:06',35.98059420522858432,129.573214475167049,267.2897393585338932,71.80887478837945536,3.854617813602459364,'2025-09-28 02:47:06.469708');
INSERT INTO ship_realtime_locations VALUES(8,107,'EUM008','2025-09-28 11:47:06',35.98382429849914387,129.5763888964119702,250.0564474651677074,14.72117801774921909,2.146580481660669725,'2025-09-28 02:47:06.469708');
INSERT INTO ship_realtime_locations VALUES(9,108,'EUM009','2025-09-28 11:47:06',35.98491425697392999,129.5722605718284229,287.915170369029397,255.360235012567074,3.125242663269647281,'2025-09-28 02:47:06.469709');
INSERT INTO ship_realtime_locations VALUES(10,109,'EUM010','2025-09-28 11:47:06',35.98162245273779548,129.5718605805360824,40.58842308860038628,195.2747665723120462,1.118791909771791548,'2025-09-28 02:47:06.469710');
CREATE TABLE sos_alerts (
	id INTEGER NOT NULL, 
	ship_id VARCHAR, 
	ship_name VARCHAR, 
	emergency_type VARCHAR, 
	message TEXT, 
	latitude FLOAT, 
	longitude FLOAT, 
	status VARCHAR, 
	created_at DATETIME, 
	resolved_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(ship_id) REFERENCES ships (ship_id)
);
INSERT INTO sos_alerts VALUES(1,'EUM001','해성호','collision','ㅓㅏㅓㅏㅓ',35.99000000000000198,129.5699999999999932,'resolved','2025-09-28 02:34:19.236009','2025-09-28 03:16:00.664147');
INSERT INTO sos_alerts VALUES(2,'EUM001','해성호','collision','왜이래 ',35.99000000000000198,129.5699999999999932,'resolved','2025-09-28 02:55:36.001957','2025-09-28 03:15:59.444096');
INSERT INTO sos_alerts VALUES(3,'EUM001','해성호','engine','엔진 고장이 발생했습니다.',35.99000000000000198,129.5699999999999932,'active','2025-09-28 03:36:47.773825',NULL);
INSERT INTO sos_alerts VALUES(4,'EUM001','해성호','engine','엔진이 고장 난 것 같습니다.',35.99000000000000198,129.5699999999999932,'active','2025-09-28 04:51:53.759600',NULL);
CREATE TABLE ship_routes_simulation (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    ship_id TEXT NOT NULL,
    ship_name TEXT NOT NULL,
    departure_time DATETIME,
    arrival_time DATETIME,
    path TEXT,
    speed_knots REAL,
    direction TEXT,
    total_distance_nm REAL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
INSERT INTO ship_routes_simulation VALUES(79,'EUM002','동양호','2025-09-28T00:02:00','2025-09-28T00:06:11.552133','[[35.987054, 129.553914], [35.985054000000005, 129.55771400000012], [35.985254000000005, 129.55831400000014], [35.986254, 129.5601140000002], [35.985854, 129.56711400000043]]',10.0,'to_fishing',0.6987559244115013613,'2025-09-28 02:34:29');
INSERT INTO ship_routes_simulation VALUES(80,'EUM003','태평호','2025-09-28T00:12:00','2025-09-28T00:19:27.537443','[[35.987945, 129.554966], [35.98494500000001, 129.5577660000001], [35.98554500000001, 129.55876600000013], [35.98634500000001, 129.5603660000002], [35.98034500000002, 129.57656600000072]]',10.0,'to_fishing',1.243159564473784507,'2025-09-28 02:34:29');
INSERT INTO ship_routes_simulation VALUES(81,'EUM004','대한호','2025-09-28T00:32:00','2025-09-28T00:37:52.957677','[[35.988906, 129.556594], [35.988706, 129.556794], [35.986706000000005, 129.556794], [35.98530600000001, 129.55739400000002], [35.98510600000001, 129.55779400000003], [35.98510600000001, 129.55819400000004], [35.986306000000006, 129.5601940000001], [35.986306000000006, 129.57239400000051]]',10.0,'to_fishing',0.980437992257756519,'2025-09-28 02:34:29');
INSERT INTO ship_routes_simulation VALUES(82,'EUM005','금성호','2025-09-28T00:22:00','2025-09-28T00:27:49.518771','[[35.990114, 129.557316], [35.988914, 129.55691599999997], [35.986914000000006, 129.55671599999997], [35.98511400000001, 129.557516], [35.98511400000001, 129.55831600000002], [35.98631400000001, 129.56011600000008], [35.98531400000001, 129.56231600000015], [35.98031400000002, 129.56731600000032]]',10.0,'to_fishing',0.970885473660109576,'2025-09-28 02:34:29');
INSERT INTO ship_routes_simulation VALUES(83,'EUM006','바다호','2025-09-28T00:37:00','2025-09-28T00:42:47.068415','[[35.98019, 129.567541], [35.986189999999986, 129.56054099999977], [35.986189999999986, 129.55934099999973], [35.98518999999999, 129.5583409999997], [35.98498999999999, 129.55774099999968], [35.98558999999999, 129.55714099999966], [35.98758999999998, 129.55674099999965], [35.98898999999998, 129.55694099999965], [35.98978999999998, 129.55714099999966]]',10.0,'to_docking',0.964078930388909794,'2025-09-28 02:34:29');
INSERT INTO ship_routes_simulation VALUES(84,'EUM007','해운호','2025-09-28T00:27:00','2025-09-28T00:32:57.706596','[[35.986163, 129.572759], [35.986363, 129.55955899999955], [35.985163, 129.5583589999995], [35.984963, 129.5577589999995], [35.985563, 129.55715899999947], [35.987562999999994, 129.55675899999946], [35.98856299999999, 129.55675899999946]]',10.0,'to_docking',0.993629433786569871,'2025-09-28 02:34:29');
INSERT INTO ship_routes_simulation VALUES(85,'EUM008','포항호','2025-09-28T00:42:00','2025-09-28T00:49:27.985908','[[35.980344, 129.576768], [35.98634399999999, 129.55996799999943], [35.98494399999999, 129.55776799999936], [35.987743999999985, 129.55496799999926]]',10.0,'to_docking',1.244405299451483816,'2025-09-28 02:34:29');
INSERT INTO ship_routes_simulation VALUES(86,'EUM009','영일호','2025-09-28T00:17:00','2025-09-28T00:21:15.437947','[[35.985648, 129.567413], [35.986247999999996, 129.55941299999972], [35.985048, 129.55821299999968], [35.985048, 129.55761299999966], [35.986847999999995, 129.55421299999955]]',10.0,'to_docking',0.7095498533765030035,'2025-09-28 02:34:29');
INSERT INTO ship_routes_simulation VALUES(87,'EUM010','구룡호','2025-09-28T00:07:00','2025-09-28T00:12:31.308486','[[35.98261, 129.570659], [35.98620999999999, 129.56025899999966], [35.985609999999994, 129.5586589999996], [35.985009999999996, 129.5580589999996], [35.985209999999995, 129.55745899999957], [35.985809999999994, 129.55325899999943]]',10.0,'to_docking',0.9203013493145195678,'2025-09-28 02:34:29');
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('ship_routes_simulation',95);
CREATE UNIQUE INDEX ix_ship_routes_ship_id ON ship_routes (ship_id);
CREATE INDEX ix_ship_routes_id ON ship_routes (id);
CREATE INDEX ix_ships_id ON ships (id);
CREATE UNIQUE INDEX ix_ships_ship_id ON ships (ship_id);
CREATE INDEX ix_weather_data_id ON weather_data (id);
CREATE INDEX ix_messages_sender_id ON messages (sender_id);
CREATE INDEX ix_messages_id ON messages (id);
CREATE INDEX ix_messages_recipient_id ON messages (recipient_id);
CREATE INDEX ix_ship_realtime_locations_id ON ship_realtime_locations (id);
CREATE INDEX ix_sos_alerts_id ON sos_alerts (id);
CREATE INDEX ix_sos_alerts_ship_id ON sos_alerts (ship_id);
COMMIT;
